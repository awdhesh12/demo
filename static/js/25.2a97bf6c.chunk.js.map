{"version":3,"sources":["app/mycomponent/UpdatePost.js"],"names":["UpdatePost","props","state","title","meta_name","meta_content","post_heading","error","selectedFile","meta_description","id_proof","isLoading","pageValue","undefined","onChange","e","setState","target","files","redClass","data","posts","titleRef","React","createRef","mnameRef","mcontentRef","mpostheadingRef","mdescRef","handleChange","bind","onEditorChange","evt","this","editor","getData","changeEvent","value","match","params","id","apiUrl","fetch","then","res","json","result","console","log","meta_desc","current","focus","preventDefault","formData","FormData","append","axios","post","response","success","window","location","catch","className","style","Group","htmlFor","ref","defaultValue","rows","placeholder","Control","type","accept","name","lang","onClick","addFormData","Component"],"mappings":"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","file":"static/js/25.2a97bf6c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Navbar from '../shared/Navbar';\r\nimport Sidebar from '../shared/Sidebar';\r\nimport Footer from '../shared/Footer';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form } from 'react-bootstrap';\r\nimport axios from 'axios'\r\nimport CKEditor from 'ckeditor4-react';\r\nimport { TurnedIn } from '@material-ui/icons';\r\n\r\nclass UpdatePost extends Component {\r\n    state = {\r\n        title: '',\r\n        meta_name: '',\r\n        meta_content: '',\r\n        post_heading: '',\r\n        error: '',\r\n        selectedFile: null,\r\n        meta_description: '',\r\n        id_proof: '',\r\n        isLoading : true,\r\n        pageValue : undefined,\r\n\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n     \r\n        this.state = {\r\n            data: this.state.data,\r\n            posts : {},\r\n\r\n        };\r\n\r\n        this.titleRef = React.createRef();\r\n        this.mnameRef = React.createRef();\r\n        this.mcontentRef = React.createRef();\r\n        this.mpostheadingRef = React.createRef();\r\n        this.mdescRef = React.createRef();\r\n\r\n\r\n\r\n        \r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.onEditorChange = this.onEditorChange.bind(this);\r\n    }\r\n\r\n\r\n    onEditorChange(evt) {\r\n        this.setState({\r\n            data: evt.editor.getData()\r\n        });\r\n    }\r\n\r\n    handleChange(changeEvent) {\r\n        this.setState({\r\n            data: changeEvent.target.value\r\n        });\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({\r\n            id_proof: e.target.files[0]\r\n        })\r\n    }\r\n\r\n\r\n    redClass = {\r\n        'color': 'red'\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        if(this.props.match.params.id){\r\n         const apiUrl = 'https://jovialconnection.com/autopostApi/postJson.php?param=edit&query='+this.props.match.params.id;\r\n           fetch(apiUrl)\r\n          .then(res => res.json())\r\n          .then(\r\n            (result) => {\r\n                console.log(result);\r\n              this.setState({\r\n                posts: result,\r\n                isLoading: false,\r\n                data : result.meta_desc\r\n              });\r\n        },\r\n            (error) => {\r\n              this.setState({ error });\r\n            }\r\n          )\r\n     \r\n        }\r\n    }\r\n\r\n\r\n    addFormData(e) {\r\n        if (!this.state.title) {\r\n            this.titleRef.current.focus();\r\n            return this.setState({ error: 'Title is not updated' });\r\n        }\r\n\r\n        if (!this.state.meta_name) {            \r\n            this.mnameRef.current.focus();\r\n            return this.setState({ error: 'Meta Name is not updated' });\r\n        }\r\n\r\n        if (!this.state.meta_content) {\r\n            this.mcontentRef.current.focus();\r\n            return this.setState({ error: 'Meta Content is not updated' });\r\n        }\r\n\r\n        if (!this.state.post_heading) {\r\n            this.mpostheadingRef.current.focus();\r\n            return this.setState({ error: 'Post heading is not updated' });\r\n        }\r\n\r\n\r\n        if (!this.state.data) {\r\n            return this.setState({ error: 'Post Description is required' });\r\n        }\r\n\r\n        this.setState({ error: '' });\r\n\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('title', this.state.title)\r\n        formData.append('meta_name', this.state.meta_name)\r\n        formData.append('meta_content', this.state.meta_content)\r\n        formData.append('meta_desc', this.state.data)\r\n        formData.append('post_heading', this.state.post_heading)\r\n        formData.append('id_proof', this.state.id_proof)\r\n        formData.append('id', this.props.match.params.id)\r\n\r\n\r\n        var headers = {\r\n            'Content-Type': 'application/json',\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n\r\n        axios.post('https://jovialconnection.com/autopostApi/updatePost.php', formData, headers)\r\n            .then(function (response) {\r\n                console.log(response);\r\n                console.log(response.data);\r\n                if (response.data.success == true) {\r\n                   console.log(response);\r\n                   window.location = \"/basic-ui/dropdowns\"\r\n\r\n\r\n\r\n                }\r\n            })\r\n            .catch(function (response) {\r\n                window.location = \"/createpost\"\r\n\r\n\r\n                \r\n            });\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(this.props.match.params.id);\r\n     \r\n\r\n        return (<div>\r\n            <div className=\"proBanner\">\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-xl-3 col-sm-6 grid-margin stretch-card\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-9\">\r\n                                    <div className=\"d-flex align-items-center align-self-start\">\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"icon icon-box-success \">\r\n                                        <span className=\"mdi mdi-arrow-top-right icon-item\"></span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xl-3 col-sm-6 grid-margin stretch-card\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-9\">\r\n                                    <div className=\"d-flex align-items-center align-self-start\">\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"icon icon-box-success\">\r\n                                        <span className=\"mdi mdi-arrow-top-right icon-item\"></span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xl-3 col-sm-6 grid-margin stretch-card\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-9\">\r\n                                    <div className=\"d-flex align-items-center align-self-start\">\r\n                                        <h3 className=\"mb-0\">$12.34</h3>\r\n                                        <p className=\"text-danger ml-2 mb-0 font-weight-medium\">-2.4%</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"icon icon-box-danger\">\r\n                                        <span className=\"mdi mdi-arrow-bottom-left icon-item\"></span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <h6 className=\"text-muted font-weight-normal\">Daily Income</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-xl-3 col-sm-6 grid-margin stretch-card\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-9\">\r\n                                    <div className=\"d-flex align-items-center align-self-start\">\r\n                                        <h3 className=\"mb-0\">$31.53</h3>\r\n                                        <p className=\"text-success ml-2 mb-0 font-weight-medium\">+3.5%</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                    <div className=\"icon icon-box-success \">\r\n                                        <span className=\"mdi mdi-arrow-top-right icon-item\"></span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <h6 className=\"text-muted font-weight-normal\">Expense current</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-12 grid-margin stretch-card\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body\">\r\n                            <p style={this.redClass} >{this.state.error}</p>\r\n                            <form className=\"forms-sample\">\r\n                                <Form.Group>\r\n                                    <label htmlFor=\"exampleInputName1\">Post Title </label>\r\n                                    <textarea ref={this.titleRef} defaultValue={this.state.posts.title }  onChange={e => this.setState({ title: e.target.value })} className=\"form-control\" id=\"exampleTextarea1\" rows=\"4\" placeholder=\"Title\"></textarea>\r\n                                   </Form.Group>\r\n                                <Form.Group>\r\n                                    <label htmlFor=\"exampleInputEmail3\">Post Name</label>\r\n                                    <textarea ref={this.mnameRef} defaultValue={this.state.posts.meta_name} onChange={e => this.setState({ meta_name: e.target.value })} className=\"form-control\" rows=\"4\" placeholder=\"Meta  Name\" ></textarea>\r\n                                </Form.Group>\r\n                                <Form.Group>\r\n                                    <label htmlFor=\"exampleInputPassword4\">Post Content</label>\r\n                                    <textarea  ref={this.mcontentRef} defaultValue={this.state.posts.meta_content } className=\"form-control\" rows=\"4\" onChange={e => this.setState({ meta_content: e.target.value })} id=\"exampleInputPassword4\" placeholder=\"Meta Content\" ></textarea>\r\n                                </Form.Group>\r\n                                <Form.Group>\r\n                                    <label htmlFor=\"exampleSelectGender\">Post Heading</label>\r\n                                    <textarea ref={this.mpostheadingRef}  defaultValue={this.state.posts.post_heading }  className=\"form-control\" rows=\"4\" onChange={e => this.setState({ post_heading: e.target.value })} placeholder=\"Post Heading\" ></textarea>\r\n\r\n                                </Form.Group>\r\n\r\n                                <Form.Group>\r\n                                    <label>Post Image</label>\r\n                                    <div className=\"custom-file\">\r\n                                        <Form.Control type=\"file\" onChange={this.onChange} accept=\".jpg,.jpeg,.png\" name=\"id_proof\" className=\"form-control visibility-hidden\" id=\"customFileLang\" lang=\"es\" />\r\n                                        <label className=\"custom-file-label\" htmlFor=\"customFileLang\">Upload image</label>\r\n                                    </div>\r\n                                </Form.Group>\r\n\r\n                                <label htmlFor=\"exampleSelectGender\">Meta Description</label>\r\n                                <div style={{ 'borderBlockStyle': 'unset', 'border': 'outset', 'borderWidth': '1px' }} className=\"form-group\">\r\n                                    <CKEditor data={this.state.data}  onChange={this.onEditorChange} />\r\n                                </div>\r\n                                <button onClick={e => this.addFormData(e)} type=\"button\" className=\"btn btn-primary mr-2\">Save Button</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default UpdatePost;"],"sourceRoot":""}